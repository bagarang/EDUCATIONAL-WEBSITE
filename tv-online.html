<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>IPTV Sci-Fi Command Center</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto+Mono:wght@300;400&display=swap" rel="stylesheet">

<style>
:root {
  --neon-cyan: #00f2ff;
  --neon-blue: #0066ff;
  --dark-bg: #050a10;
  --glass-bg: rgba(10, 25, 41, 0.8);
}

body {
  margin: 0;
  height: 100vh;
  display: flex;
  background-color: var(--dark-bg);
  /* Background grid efek Sci-Fi */
  background-image: 
    linear-gradient(rgba(0, 242, 255, 0.05) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0, 242, 255, 0.05) 1px, transparent 1px);
  background-size: 30px 30px;
  color: #e0faff;
  font-family: 'Roboto Mono', monospace;
  overflow: hidden;
}

/* --- SIDEBAR SCI-FI --- */
#sidebar {
  width: 350px;
  display: flex;
  flex-direction: column;
  background: var(--glass-bg);
  backdrop-filter: blur(15px);
  border-right: 1px solid var(--neon-blue);
  box-shadow: 10px 0 30px rgba(0, 0, 0, 0.5);
  z-index: 10;
}

#search, #category {
  padding: 12px;
  margin: 15px;
  background: rgba(0, 0, 0, 0.5);
  border: 1px solid var(--neon-blue);
  color: var(--neon-cyan);
  outline: none;
  font-family: 'Orbitron', sans-serif;
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 1px;
}

#search::placeholder {
  color: rgba(0, 242, 255, 0.4);
}

#search:focus, #category:focus {
  border-color: var(--neon-cyan);
  box-shadow: 0 0 10px rgba(0, 242, 255, 0.3);
}

#playlist {
  flex: 1;
  overflow-y: auto;
  padding: 10px;
}

/* Scrollbar Style */
#playlist::-webkit-scrollbar {
  width: 5px;
}
#playlist::-webkit-scrollbar-thumb {
  background: var(--neon-blue);
}

.channel {
  padding: 12px 15px;
  margin-bottom: 5px;
  border-left: 3px solid transparent;
  background: rgba(255, 255, 255, 0.03);
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 13px;
}

.channel:hover {
  background: rgba(0, 242, 255, 0.1);
  border-left-color: var(--neon-cyan);
  padding-left: 20px;
  color: var(--neon-cyan);
}

/* --- PLAYER AREA --- */
#player {
  flex: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  background: radial-gradient(circle, rgba(0, 102, 255, 0.1) 0%, transparent 70%);
}

.video-frame {
  position: relative;
  width: 90%;
  padding: 10px;
  border: 1px solid rgba(0, 242, 255, 0.2);
  background: rgba(0, 0, 0, 0.8);
}

/* Sudut Dekoratif Sci-Fi */
.video-frame::before, .video-frame::after {
  content: '';
  position: absolute;
  width: 20px;
  height: 20px;
  border: 2px solid var(--neon-cyan);
}
.video-frame::before { top: -2px; left: -2px; border-right: 0; border-bottom: 0; }
.video-frame::after { bottom: -2px; right: -2px; border-left: 0; border-top: 0; }

video {
  width: 100%;
  box-shadow: 0 0 50px rgba(0, 0, 0, 1);
}

/* --- TOMBOL KEMBALI --- */
.back-to-index {
  position: fixed;
  bottom: 30px;
  right: 30px;
  padding: 12px 20px;
  background: rgba(0, 102, 255, 0.15);
  color: var(--neon-cyan);
  text-decoration: none;
  border: 1px solid var(--neon-blue);
  font-family: 'Orbitron', sans-serif;
  font-size: 12px;
  font-weight: bold;
  letter-spacing: 2px;
  z-index: 1000;
  transition: all 0.3s;
  backdrop-filter: blur(5px);
  clip-path: polygon(10% 0, 100% 0, 100% 70%, 90% 100%, 0 100%, 0 30%);
}

.back-to-index:hover {
  background: var(--neon-blue);
  color: white;
  box-shadow: 0 0 20px var(--neon-blue);
  transform: translateY(-2px);
}
</style>
</head>

<body>

<div id="sidebar">
  <div style="padding: 20px; text-align: center; border-bottom: 1px solid var(--neon-blue);">
    <h2 style="font-family: 'Orbitron', sans-serif; margin: 0; font-size: 18px; color: var(--neon-cyan);">COMMAND HUB</h2>
    <small style="font-size: 9px; opacity: 0.6;">SYSTEM STATUS: ONLINE</small>
  </div>
  <input id="search" type="text" placeholder="Scan Frequency...">
  <select id="category">
    <option value="all">ALL FREQUENCIES</option>
  </select>
  <div id="playlist"></div>
</div>

<div id="player">
  <div class="video-frame">
    <video id="video" controls></video>
  </div>
</div>

<a href="index.html" class="back-to-index">
  [ BACK_TO_BASE ]
</a>

<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script>
// --- LOGIKANYA TETAP SAMA ---
const M3U_URL = 'https://iptv-org.github.io/iptv/index.category.m3u';

const playlistDiv = document.getElementById('playlist');
const searchInput = document.getElementById('search');
const categorySelect = document.getElementById('category');
const video = document.getElementById('video');

let channels = [];
let hls;

fetch(M3U_URL)
  .then(res => res.text())
  .then(text => parseM3U(text));

function parseM3U(text) {
  const lines = text.split('\n');
  let current = {};

  lines.forEach(line => {
    line = line.trim();
    if (line.startsWith('#EXTINF')) {
      current = {};
      current.name = line.split(',').pop();
      const group = line.match(/group-title="(.*?)"/);
      current.category = group ? group[1] : 'Other';
    } else if (line.startsWith('http')) {
      current.url = line;
      channels.push(current);
    }
  });

  buildCategories();
  renderChannels();
}

function buildCategories() {
  const cats = new Set(channels.map(c => c.category));
  cats.forEach(cat => {
    const opt = document.createElement('option');
    opt.value = cat;
    opt.textContent = cat.toUpperCase();
    categorySelect.appendChild(opt);
  });
}

function renderChannels() {
  playlistDiv.innerHTML = '';
  const keyword = searchInput.value.toLowerCase();
  const selectedCat = categorySelect.value;

  channels
    .filter(c =>
      (selectedCat === 'all' || c.category === selectedCat) &&
      c.name.toLowerCase().includes(keyword)
    )
    .forEach(c => {
      const div = document.createElement('div');
      div.className = 'channel';
      div.textContent = `> ${c.name.toUpperCase()}`;
      div.onclick = () => playStream(c.url);
      playlistDiv.appendChild(div);
    });
}

function playStream(url) {
  if (hls) {
    hls.destroy();
    hls = null;
  }

  if (Hls.isSupported()) {
    hls = new Hls();
    hls.loadSource(url);
    hls.attachMedia(video);
  } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
    video.src = url;
  }
  video.play();
}

searchInput.addEventListener('input', renderChannels);
categorySelect.addEventListener('change', renderChannels);
</script>

</body>

</html>





